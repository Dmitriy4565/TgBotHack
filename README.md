# Kоманда: CosmoРусы
## НАШ_tg_bot
### https://t.me/Hihiihihihibot


# Telegram Bot для Управления Участниками Групп

Этот проект — это Telegram-бот для управления участниками групп. Он предоставляет администраторам групп функции по удалению пользователей, получению списка участников и обновлению информации о пользователях в группах. Бот автоматически обновляет списки участников при добавлении его в новый чат и позволяет легко управлять группами через командный интерфейс.

## Оглавление
- [Описание проекта](#описание-проекта)
- [Особенности](#особенности)
- [Использование](#использование)
  - [Основные команды](#основные-команды)
- [Режим работы](#режим-работы)
- [Работа с файлами участников](#работа-с-файлами-участников)
- [Технические детали](#технические-детали)
  - [Обработка участников](#обработка-участников)
  - [Обновление списка участников](#обновление-списка-участников)

## Описание проекта
Этот бот предоставляет удобный способ для администраторов Telegram-групп управления участниками:
- Удаление пользователей из групп с проверкой на права администратора.
- Получение списка участников групп с указанием их usernames.
- Автоматическое обновление списка участников при добавлении нового пользователя или изменении состава группы.
- Хранение информации о пользователях и группах в локальных текстовых файлах. Каждая группа имеет свой отдельный файл, где хранится информация о её участниках. Когда бот добавляется в новый чат, он сразу начинает отслеживать изменения и обновлять этот файл.

## Особенности
- **Удаление пользователей**: Бот позволяет администратору удалять пользователей из групп, если они не являются администраторами.
- **Получение списка участников**: После команды от пользователя, бот может предоставить полный список участников группы с их username.
- **Автоматическое обновление списка участников**: Бот автоматически обновляет список участников в случае изменения состава группы (появление новых участников, удаление пользователей).
- **Поддержка нескольких групп**: Бот может работать с несколькими группами одновременно, создавая отдельные файлы для каждой из них.
- **Проверка прав администратора**: Бот проверяет, является ли пользователь администратором, прежде чем выполнить операцию удаления.

## Использование**
После добавления бота в канал, необходимо изменить состав участников, для создания списка пользователей.**
### Основные команды
- **/start:** Запускает бота и выводит меню с кнопками для выбора дальнейших действий.
- **Удалить пользователя:** При нажатии на кнопку "Удалить пользователя", бот попросит вас ввести username пользователя в формате @username. Бот проверит, есть ли такой пользователь в группе и, если у вас есть соответствующие права, удалит его.
- **My Chats:** Нажав на кнопку "My Chats", бот отобразит список групп, в которых вы являетесь администратором.
## Режим работы
Бот работает в фоновом режиме, следя за изменениями в группах. Он автоматически обновляет списки участников, если они изменяются. Если бот добавляется в новый чат, он сразу же создаёт файл для этой группы и начинает отслеживать участников.


## Работа с файлами участников
Для каждой группы бот создаёт файл, в котором хранится информация о её участниках. Формат названия файла:
 ```bash
text
group_<название_группы>_<ID_чата>_participants.txt
 ```
**Пример содержимого файла:**
 ```bash
text
ID: 123456789, Имя: @username
ID: 987654321, Имя: Иван Иванов
 ```
**Обновление списка участников
**Когда бот добавляется в группу, он сразу получает список участников и записывает его в файл. В случае изменений в составе группы (например, при удалении или добавлении новых участников), бот автоматически обновляет файл.


## Технические детали
### Обработка участников
Когда бот добавляется в группу, он получает список участников с помощью метода get_participants() и записывает его в файл. При удалении пользователя из группы бот проверяет, является ли пользователь администратором, и если это так, не позволяет его удалить. Бот также отслеживает изменения в составе групп и автоматически обновляет информацию о пользователях.
### Обновление списка участников
При каждом изменении в группе (появление нового пользователя или удаление), бот обновляет файл с участниками с использованием события client.on(events.ChatAction).
